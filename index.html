<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pedido Panader√≠a</title>

<style>
body{
font-family:Arial;
background:#eee;
margin:0;
padding:10px;
}

.container{
background:white;
padding:15px;
border-radius:10px;
max-width:800px;
margin:auto;
}

h2{
text-align:center;
}

input{
width:100%;
padding:8px;
margin-bottom:8px;
font-size:16px;
}

.producto{
border-bottom:1px solid #ddd;
padding:8px 0;
}

button{
width:100%;
padding:15px;
font-size:18px;
border:none;
border-radius:10px;
background:#2ea043;
color:white;
margin-top:10px;
}

.resultado{
margin-top:20px;
font-size:18px;
white-space:pre-line;
}

@media(max-width:600px){
.producto{
font-size:14px;
}
}
</style>
</head>

<body>

<div class="container">

<h2>Pedido Panader√≠a</h2>

<input id="cliente" placeholder="Nombre del Cliente">
<input id="barrio" placeholder="Barrio">

<div id="lista"></div>

<button onclick="calcular()">CALCULAR PEDIDO</button>

<div class="resultado" id="resultado"></div>
<div class="resultado" id="bendaje"></div>

</div>

<script>

const productos=[

{name:"PAN DE 500",precio:500,bendaje:true},
{name:"PAN DE 1.000",precio:1000,bendaje:true},
{name:"PAN DE 2.000",precio:2000,bendaje:true},
{name:"PAN DE 3.500",precio:3500,bendaje:false},

{name:"PAN AGRIDULCE DE 500",precio:500,bendaje:true},
{name:"PAN AGRIDULCE DE 1.000",precio:1000,bendaje:true},

{name:"PAN ROLLO",precio:500,bendaje:true},

{name:"PAN QUESILLO",precio:1200,bendaje:false},
{name:"LIBERALES",precio:500,bendaje:false},
{name:"CA√ëAS",precio:500,bendaje:false},
{name:"PAN COCO",precio:500,bendaje:false},

{name:"MOGICON DE 500",precio:500,bendaje:true},
{name:"MOGICON DE 1.200",precio:1200,bendaje:false},

{name:"ROSCON DE 2.500",precio:2500,bendaje:false},
{name:"HAWAIANOS",precio:2000,bendaje:false},
{name:"CROASANES",precio:2000,bendaje:false}

];

const lista=document.getElementById("lista");

productos.forEach((p,i)=>{
lista.innerHTML+=`
<div class="producto">
<b>${p.name} ($${p.precio.toLocaleString("es-CO")})</b><br>
Cantidad:
<input id="cant${i}" type="number" min="0">
O dinero:
<input id="din${i}" type="number" min="0" placeholder="Ej: 5.000">
</div>
`;
});

function formato(n){
return n.toLocaleString("es-CO");
}

function calcular(){

let total=0;
let texto="";
let bendajeTotal=0;
let textoB="";

productos.forEach((p,i)=>{

let cant=document.getElementById("cant"+i).value;
let din=document.getElementById("din"+i).value;

let subtotal=0;
let panes=0;

if(din>0){
subtotal=Number(din);
panes=Math.floor(din/p.precio);
}
else if(cant>0){
subtotal=cant*p.precio;
panes=cant;
}

if(subtotal>0){

texto+=p.name+" x"+panes+" = $"+formato(subtotal)+"\n";
total+=subtotal;

if(p.bendaje===true){

let b=subtotal*0.20;

// üîµ Redondear al m√∫ltiplo M√ÅS CERCANO del precio del pan
let panesB=Math.round(b/p.precio);
let bendajeRedondeado=panesB*p.precio;

if(bendajeRedondeado>0){
bendajeTotal+=bendajeRedondeado;
textoB+=p.name+" ‚Üí "+panesB+" panes = $"+formato(bendajeRedondeado)+"\n";
}

if(b>0){
bendajeTotal+=b;
textoB+=p.name+" ‚Üí "+panesB+" panes = $"+formato(b)+"\n";
}
}
}
});

document.getElementById("resultado").innerText=
"CLIENTE: "+document.getElementById("cliente").value+
"\nBARRIO: "+document.getElementById("barrio").value+
"\n\nTOTAL PEDIDO\n"+texto+
"\n$"+formato(total);

document.getElementById("bendaje").innerText=
"\nTOTAL BENDAJE 20%\n"+textoB+
"\n$"+formato(bendajeTotal);
}

</script>

</body>
</html>
